<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…¸ì…˜: ì§€ì‹ì„ ì‹¤í–‰í•˜ëŠ” ìº”ë²„ìŠ¤</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/variable/pretendardvariable.css">
    <style>
        /* ì „ì²´ í™”ë©´ ì„¤ì • */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard Variable', 'Pretendard', sans-serif;
            overflow: hidden;
            background: #000;
            cursor: auto; /* ê¸°ë³¸ì ìœ¼ë¡œ ì»¤ì„œ í‘œì‹œ */
        }
        
        /* ìŠ¬ë¼ì´ë“œ ì»¨í…Œì´ë„ˆ */
        .slide-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        /* í„°ì¹˜ ì˜¤ë²„ë ˆì´ - iframe ìœ„ì— íˆ¬ëª…í•œ í„°ì¹˜ ìºì¹˜ ë ˆì´ì–´ */
        .touch-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 999; /* iframe(950)ë³´ë‹¤ ë†’ì§€ë§Œ UI(1000)ë³´ë‹¤ ë‚®ê²Œ */
            background: transparent;
            pointer-events: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ë°ìŠ¤í¬í†±ì—ì„œëŠ” ë¹„í™œì„±í™” */
            cursor: auto;
        }
        
        /* ëª¨ë°”ì¼ì—ì„œë§Œ í„°ì¹˜ ì˜¤ë²„ë ˆì´ í™œì„±í™” */
        @media (max-width: 768px) {
            .touch-overlay {
                pointer-events: auto; /* ëª¨ë°”ì¼ì—ì„œë§Œ í„°ì¹˜ ì´ë²¤íŠ¸ í™œì„±í™” */
            }
        }
        
        /* ê°œë³„ ìŠ¬ë¼ì´ë“œ iframe */
        .slide {
            width: 100%;
            height: 100%;
            border: none;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateZ(0); /* í•˜ë“œì›¨ì–´ ê°€ì† */
        }
        
        .slide.active {
            opacity: 1;
            z-index: 950;  /* UI ìš”ì†Œë“¤(900)ë³´ë‹¤ ë†’ì§€ë§Œ 1000ë³´ë‹¤ ë‚®ê²Œ */
        }
        
        /* ë¡œë”© í‘œì‹œ */
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #673AB7;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        /* ì§„í–‰ë¥  ë°” - ìš°ì¸¡ í•˜ë‹¨ ëª¨ì„œë¦¬ë¡œ ì´ë™ */
        .progress-container {
            position: fixed;
            bottom: 20px;
            right: 20px;  /* ì¤‘ì•™ì—ì„œ ìš°ì¸¡ìœ¼ë¡œ ì´ë™ */
            z-index: 900;  /* ìŠ¬ë¼ì´ë“œë³´ë‹¤ ë‚®ê²Œ ì„¤ì • */
            transition: opacity 0.3s ease;
            backdrop-filter: blur(15px);  /* ë¸”ëŸ¬ íš¨ê³¼ ê°•í™” */
            background: rgba(0, 0, 0, 0.4);  /* ë°°ê²½ íˆ¬ëª…ë„ ì¶”ê°€ */
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            width: 200px;  /* ë„ˆë¹„ ì¶•ì†Œ */
            height: 3px;   /* ë†’ì´ ì¶•ì†Œ */
            background: rgba(255, 255, 255, 0.15);
            border-radius: 2px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #673AB7, #9C27B0, #B388FF);
            border-radius: 2px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 8px rgba(103, 58, 183, 0.4);
        }
        
        .progress-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.8rem;  /* í°íŠ¸ í¬ê¸° ì¶•ì†Œ */
            text-align: center;
            margin-top: 6px;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        /* í‚¤ë³´ë“œ/í„°ì¹˜ ê°€ì´ë“œ - ìš°ì¸¡ ìƒë‹¨ ëª¨ì„œë¦¬ ê°•í™” */
        .keyboard-guide {
            position: fixed;
            top: 20px;
            right: 20px;
            color: rgba(255, 255, 255, 0.8);  /* íˆ¬ëª…ë„ ì¦ê°€ */
            font-size: 0.75rem;  /* í°íŠ¸ í¬ê¸° ì¶•ì†Œ */
            z-index: 900;  /* ìŠ¬ë¼ì´ë“œë³´ë‹¤ ë‚®ê²Œ */
            background: rgba(0, 0, 0, 0.4);  /* ë°°ê²½ íˆ¬ëª…ë„ ì¦ê°€ */
            padding: 10px 14px;  /* íŒ¨ë”© ì¶•ì†Œ */
            border-radius: 8px;
            backdrop-filter: blur(15px);  /* ë¸”ëŸ¬ íš¨ê³¼ ê°•í™” */
            transition: opacity 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        .keyboard-guide .key {
            color: #B388FF;
            font-weight: 700;
            text-shadow: 0 0 5px rgba(179, 136, 255, 0.3);
        }
        
        /* ë°ìŠ¤í¬í†±ìš© ê°€ì´ë“œ */
        .keyboard-guide .desktop-guide {
            display: block;
        }
        
        /* ëª¨ë°”ì¼ìš© ê°€ì´ë“œ */
        .keyboard-guide .mobile-guide {
            display: none;
        }
        
        /* ìŠ¬ë¼ì´ë“œ ì œëª© - ì¢Œì¸¡ í•˜ë‹¨ìœ¼ë¡œ ì´ë™ */
        .slide-title {
            position: fixed;
            bottom: 20px;  /* ìƒë‹¨ì—ì„œ í•˜ë‹¨ìœ¼ë¡œ ì´ë™ */
            left: 20px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;  /* í°íŠ¸ í¬ê¸° ì¶•ì†Œ */
            z-index: 900;  /* ìŠ¬ë¼ì´ë“œë³´ë‹¤ ë‚®ê²Œ */
            background: rgba(0, 0, 0, 0.4);  /* ë°°ê²½ íˆ¬ëª…ë„ ì¦ê°€ */
            padding: 10px 14px;  /* íŒ¨ë”© ì¶•ì†Œ */
            border-radius: 8px;
            backdrop-filter: blur(15px);  /* ë¸”ëŸ¬ íš¨ê³¼ ê°•í™” */
            font-weight: 700;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            transition: opacity 0.3s ease;
        }
        
        /* UI ìš”ì†Œ í˜¸ë²„ íš¨ê³¼ */
        .progress-container:hover,
        .keyboard-guide:hover,
        .slide-title:hover {
            background: rgba(0, 0, 0, 0.7);  /* í˜¸ë²„ì‹œ ë” ì§„í•œ ë°°ê²½ */
            backdrop-filter: blur(20px);     /* ë¸”ëŸ¬ íš¨ê³¼ ê°•í™” */
            transform: scale(1.02);          /* ì‚´ì§ í™•ëŒ€ */
            transition: all 0.2s ease;
        }
        
        /* ì „ì²´í™”ë©´ ëª¨ë“œì—ì„œ UI ìˆ¨ê¹€ - ê¸°ì¡´ ìœ ì§€í•˜ë˜ íˆ¬ëª…ë„ë§Œ ì¡°ì • */
        .fullscreen-mode .keyboard-guide,
        .fullscreen-mode .progress-container,
        .fullscreen-mode .slide-title {
            opacity: 0.1;  /* ì™„ì „íˆ ìˆ¨ê¸°ì§€ ë§ê³  ì‚´ì§ ë³´ì´ê²Œ */
            pointer-events: none;
        }
        
        /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        @media (max-width: 768px) {
            .progress-container {
                bottom: 15px;
                right: 15px;
                padding: 12px;
            }
            
            .progress-bar {
                width: 150px;  /* ëª¨ë°”ì¼ì—ì„œ ë” ì‘ê²Œ */
            }
            
            .keyboard-guide {
                top: 15px;
                right: 15px;
                font-size: 0.7rem;
                padding: 8px 12px;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œëŠ” í„°ì¹˜ ê°€ì´ë“œ í‘œì‹œ */
            .keyboard-guide .desktop-guide {
                display: none;
            }
            
            .keyboard-guide .mobile-guide {
                display: block;
            }
            
            .slide-title {
                bottom: 15px;
                left: 15px;
                font-size: 0.8rem;
                padding: 8px 12px;
            }
            
            /* í„°ì¹˜ ì˜ì—­ ì‹œê°í™” (ê°œë°œ ì¤‘ì—ë§Œ ì‚¬ìš©, ë‚˜ì¤‘ì— ì œê±° ê°€ëŠ¥) */
            .slide-container::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 40%;  /* 33.33% â†’ 40% */
                height: 100%;
                background: rgba(255, 0, 0, 0.05);  /* ì™¼ìª½ íƒ­ ì˜ì—­ */
                pointer-events: none;
                z-index: 1;
                opacity: 0; /* í‰ìƒì‹œ ìˆ¨ê¹€ */
                transition: opacity 0.3s ease;
            }
            
            .slide-container::after {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                width: 40%;  /* 33.33% â†’ 40% */
                height: 100%;
                background: rgba(0, 255, 0, 0.05);  /* ì˜¤ë¥¸ìª½ íƒ­ ì˜ì—­ */
                pointer-events: none;
                z-index: 1;
                opacity: 0; /* í‰ìƒì‹œ ìˆ¨ê¹€ */
                transition: opacity 0.3s ease;
            }
            
            /* í„°ì¹˜ ì‹œ ì ê¹ ì˜ì—­ í‘œì‹œ (ë” ëª…í™•í•˜ê²Œ) */
            .slide-container.touch-feedback::before,
            .slide-container.touch-feedback::after {
                opacity: 0.15;  /* 0.05 â†’ 0.15ë¡œ ë” ì˜ ë³´ì´ê²Œ */
            }
        }
        
        /* ì „ì²´í™”ë©´ ëª¨ë“œì—ì„œë§Œ ì»¤ì„œ ìˆ¨ê¹€ */
        .fullscreen-mode {
            cursor: none !important;
        }
        
        .fullscreen-mode * {
            cursor: none !important;
        }
        
        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .loading {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <div class="slide-container">
        <!-- ë¡œë”© í‘œì‹œ -->
        <div class="loading">ë…¸ì…˜ ê°•ì˜ë¥¼ ì¤€ë¹„í•˜ëŠ” ì¤‘... (3ì´ˆ í›„ ìë™ ì‹œì‘)</div>
        
        <!-- í„°ì¹˜ ì˜¤ë²„ë ˆì´ (iframe ìœ„ì— íˆ¬ëª…í•œ í„°ì¹˜ ìºì¹˜ ë ˆì´ì–´) -->
        <div class="touch-overlay"></div>
        
        <!-- 33ê°œ ìŠ¬ë¼ì´ë“œ ë™ì  ìƒì„±ë  ì˜ˆì • -->
    </div>
    
    <!-- UI ìš”ì†Œë“¤ -->
    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>
        <div class="progress-text">1 / 33</div>
    </div>
    
    <div class="keyboard-guide">
        <div class="desktop-guide">
            <span class="key">â†â†’</span> ì´ë™ | <span class="key">F</span> ì „ì²´í™”ë©´ | <span class="key">ESC</span> ì¢…ë£Œ
        </div>
        <div class="mobile-guide">
            <span class="key">ğŸ‘†</span> ì¢Œìš° íƒ­/ìŠ¤ì™€ì´í”„ | <span class="key">ğŸ–</span> ì¤‘ì•™ íƒ­ UI
        </div>
    </div>
    
    <div class="slide-title">
        START
    </div>

    <script>
        // ìŠ¬ë¼ì´ë“œ ì„¤ì • - 0ë²ˆ ìŠ¬ë¼ì´ë“œ ì¶”ê°€ ë°˜ì˜
        const SLIDE_CONFIG = {
            totalSlides: 33,        // 0~32ë²ˆ ìŠ¬ë¼ì´ë“œ (ì´ 33ê°œ)
            slidePrefix: '',        // ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ìˆìŒ
            slideSuffix: '.html',
            titles: [
                'START',                                              // 0ë²ˆ (ìƒˆë¡œ ì¶”ê°€)
                'INTRO', 'INTRO', 'INTRO', 'INTRO',                  // 1-4
                'Chapter 1', 'Chapter 1', 'Chapter 1', 'Chapter 1', // 5-8
                'Chapter 2', 'Chapter 2', 'Chapter 2', 'Chapter 2', // 9-12
                'Chapter 2', 'Chapter 2', 'Chapter 2', 'Chapter 2', // 13-16
                'Chapter 2', 'Chapter 2', 'Chapter 2', 'Chapter 2', // 17-20
                'Chapter 2', 'Chapter 2', 'Chapter 2',              // 21-23
                'Chapter 3', 'Chapter 3', 'Chapter 3', 'Chapter 3', // 24-27
                'Chapter 3', 'Chapter 3', 'Chapter 3',              // 28-30
                'OUTRO', 'OUTRO'                                    // 31-32
            ]
        };
        
        // ì „ì—­ ë³€ìˆ˜
        let currentSlide = 0;
        let slidesLoaded = 0;
        let isTransitioning = false;
        
        // DOM ìš”ì†Œ ì°¸ì¡°
        const slideContainer = document.querySelector('.slide-container');
        const progressFill = document.querySelector('.progress-fill');
        const progressText = document.querySelector('.progress-text');
        const slideTitle = document.querySelector('.slide-title');
        const loading = document.querySelector('.loading');
        
        // ìŠ¬ë¼ì´ë“œ ë™ì  ìƒì„± - 0ë²ˆë¶€í„° ì‹œì‘í•˜ë„ë¡ ìˆ˜ì •
        function createSlides() {
            for (let i = 0; i < SLIDE_CONFIG.totalSlides; i++) {
                const iframe = document.createElement('iframe');
                
                iframe.className = 'slide';
                // ì‹¤ì œ íŒŒì¼ëª…: 0.html, 1.html, 2.html... 
                iframe.src = `${SLIDE_CONFIG.slidePrefix}${i}${SLIDE_CONFIG.slideSuffix}`;
                iframe.setAttribute('data-slide', i);
                iframe.style.display = 'block';
                
                // ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ(0ë²ˆ)ë§Œ active
                if (i === 0) {
                    iframe.classList.add('active');
                }
                
                // ë¡œë“œ ì™„ë£Œ ì´ë²¤íŠ¸
                iframe.onload = function() {
                    slidesLoaded++;
                    console.log(`ìŠ¬ë¼ì´ë“œ ${i} ë¡œë“œ ì™„ë£Œ (${slidesLoaded}/${SLIDE_CONFIG.totalSlides})`);
                    if (slidesLoaded === SLIDE_CONFIG.totalSlides) {
                        hideLoading();
                    }
                };
                
                // ì—ëŸ¬ ì²˜ë¦¬ - ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì¹´ìš´í„° ì¦ê°€ (Firefox í˜¸í™˜ì„±)
                iframe.onerror = function() {
                    slidesLoaded++;
                    console.error(`ìŠ¬ë¼ì´ë“œ ${i} ë¡œë“œ ì‹¤íŒ¨: ${iframe.src} (${slidesLoaded}/${SLIDE_CONFIG.totalSlides})`);
                    if (slidesLoaded === SLIDE_CONFIG.totalSlides) {
                        console.warn('ì¼ë¶€ ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì‹¤íŒ¨í–ˆì§€ë§Œ ë·°ì–´ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.');
                        hideLoading();
                    }
                };
                
                // ì¶”ê°€ ì•ˆì „ì¥ì¹˜: ê° ìŠ¬ë¼ì´ë“œë‹¹ 2ì´ˆ íƒ€ì„ì•„ì›ƒ
                setTimeout(function() {
                    if (!iframe.complete && slidesLoaded < SLIDE_CONFIG.totalSlides) {
                        slidesLoaded++;
                        console.warn(`ìŠ¬ë¼ì´ë“œ ${i} ë¡œë”© íƒ€ì„ì•„ì›ƒ (${slidesLoaded}/${SLIDE_CONFIG.totalSlides})`);
                        if (slidesLoaded === SLIDE_CONFIG.totalSlides) {
                            hideLoading();
                        }
                    }
                }, 2000 + (i * 50)); // ê° ìŠ¬ë¼ì´ë“œë§ˆë‹¤ 50msì”© ì§€ì—°
                
                slideContainer.appendChild(iframe);
            }
        }
        
        // ë¡œë”© ìˆ¨ê¸°ê¸°
        function hideLoading() {
            console.log('ëª¨ë“  ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì™„ë£Œ!');
            loading.style.opacity = '0';
            setTimeout(() => {
                loading.style.display = 'none';
            }, 300);
        }
        
        // í„°ì¹˜ ì´ë²¤íŠ¸ ë³€ìˆ˜
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
        const SWIPE_THRESHOLD = 30; // ìŠ¤ì™€ì´í”„ ìµœì†Œ ê±°ë¦¬ (50â†’30ìœ¼ë¡œ ì¤„ì„)
        const TAP_THRESHOLD = 15;   // íƒ­ ìµœëŒ€ ì´ë™ ê±°ë¦¬ (10â†’15ë¡œ ëŠ˜ë¦¼)
        
        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.addEventListener('keydown', function(e) {
            if (isTransitioning) return;
            
            switch(e.key) {
                case 'ArrowLeft':
                case 'ArrowUp':
                    e.preventDefault();
                    previousSlide();
                    break;
                case 'ArrowRight':
                case 'ArrowDown':
                case ' ': // ìŠ¤í˜ì´ìŠ¤ë°”
                    e.preventDefault();
                    nextSlide();
                    break;
                case 'Home':
                    e.preventDefault();
                    goToSlide(0);
                    break;
                case 'End':
                    e.preventDefault();
                    goToSlide(SLIDE_CONFIG.totalSlides - 1);
                    break;
                case 'Escape':
                    exitPresentation();
                    break;
                case 'f':
                case 'F':
                    toggleFullscreen();
                    break;
            }
        });
        
        // í„°ì¹˜ í”¼ë“œë°± í‘œì‹œ
        function showTouchFeedback() {
            const container = document.querySelector('.slide-container');
            container.classList.add('touch-feedback');
            
            setTimeout(() => {
                container.classList.remove('touch-feedback');
            }, 200);
        }
        
        // UI ì„ì‹œ í‘œì‹œ í•¨ìˆ˜
        function showUITemporarily() {
            const uiElements = document.querySelectorAll('.progress-container, .keyboard-guide, .slide-title');
            
            // UI ìš”ì†Œë“¤ ì¼ì‹œì ìœ¼ë¡œ í‘œì‹œ
            uiElements.forEach(element => {
                element.style.opacity = '1';
                element.style.pointerEvents = 'auto';
            });
            
            // 3ì´ˆ í›„ ë‹¤ì‹œ ìˆ¨ê¹€ (ì „ì²´í™”ë©´ ëª¨ë“œê°€ ì•„ë‹ ë•Œë§Œ)
            setTimeout(() => {
                if (document.fullscreenElement) {
                    uiElements.forEach(element => {
                        element.style.opacity = '0.1';
                        element.style.pointerEvents = 'none';
                    });
                }
            }, 3000);
        }
        
        // í„°ì¹˜ ì œìŠ¤ì²˜ ì²˜ë¦¬ (ë‹¨ìˆœí™”ëœ ë²„ì „)
        function handleTouchGesture() {
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            const absDeltaX = Math.abs(deltaX);
            const absDeltaY = Math.abs(deltaY);
            
            console.log('í„°ì¹˜ ì œìŠ¤ì²˜:', { deltaX, deltaY, absDeltaX, absDeltaY });
            
            // í„°ì¹˜ í”¼ë“œë°± í‘œì‹œ
            showTouchFeedback();
            
            // ìˆ˜í‰ ì›€ì§ì„ì´ ì„¸ë¡œë³´ë‹¤ í¬ê³  ì„ê³„ê°’ì„ ë„˜ìœ¼ë©´ ìŠ¤ì™€ì´í”„ë¡œ íŒë‹¨
            if (absDeltaX > SWIPE_THRESHOLD && absDeltaX > absDeltaY) {
                if (deltaX > 0) {
                    // ì˜¤ë¥¸ìª½ ìŠ¤ì™€ì´í”„ â†’ ì´ì „ ìŠ¬ë¼ì´ë“œ
                    console.log('ğŸ”¥ ì˜¤ë¥¸ìª½ ìŠ¤ì™€ì´í”„: ì´ì „ ìŠ¬ë¼ì´ë“œ');
                    previousSlide();
                } else {
                    // ì™¼ìª½ ìŠ¤ì™€ì´í”„ â†’ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ
                    console.log('ğŸ”¥ ì™¼ìª½ ìŠ¤ì™€ì´í”„: ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ');
                    nextSlide();
                }
                return;
            }
            
            // ì›€ì§ì„ì´ ì‘ìœ¼ë©´ íƒ­ìœ¼ë¡œ íŒë‹¨
            if (absDeltaX < TAP_THRESHOLD && absDeltaY < TAP_THRESHOLD) {
                const screenWidth = window.innerWidth;
                const tapX = touchStartX; // touchEndX ëŒ€ì‹  touchStartX ì‚¬ìš©
                
                console.log('íƒ­ ìœ„ì¹˜:', tapX, '/', screenWidth);
                
                if (tapX < screenWidth * 0.4) {
                    // ì™¼ìª½ 40% ì˜ì—­ íƒ­ â†’ ì´ì „ ìŠ¬ë¼ì´ë“œ
                    console.log('ğŸ”¥ ì™¼ìª½ íƒ­: ì´ì „ ìŠ¬ë¼ì´ë“œ');
                    previousSlide();
                } else if (tapX > screenWidth * 0.6) {
                    // ì˜¤ë¥¸ìª½ 40% ì˜ì—­ íƒ­ â†’ ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ
                    console.log('ğŸ”¥ ì˜¤ë¥¸ìª½ íƒ­: ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ');
                    nextSlide();
                } else {
                    // ì¤‘ì•™ 20% ì˜ì—­ íƒ­ â†’ UI í† ê¸€
                    console.log('ğŸ”¥ ì¤‘ì•™ íƒ­: UI í‘œì‹œ');
                    showUITemporarily();
                }
            } else {
                console.log('âŒ ì œìŠ¤ì²˜ ì¸ì‹ ì‹¤íŒ¨ (ì›€ì§ì„ì´ ì• ë§¤í•¨)');
            }
        }
        
        // ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ
        function nextSlide() {
            if (currentSlide < SLIDE_CONFIG.totalSlides - 1) {
                goToSlide(currentSlide + 1);
            }
        }
        
        // ì´ì „ ìŠ¬ë¼ì´ë“œ
        function previousSlide() {
            if (currentSlide > 0) {
                goToSlide(currentSlide - 1);
            }
        }
        
        // íŠ¹ì • ìŠ¬ë¼ì´ë“œë¡œ ì´ë™
        function goToSlide(slideIndex) {
            if (slideIndex === currentSlide || isTransitioning) return;
            
            isTransitioning = true;
            console.log(`ìŠ¬ë¼ì´ë“œ ì´ë™: ${currentSlide} â†’ ${slideIndex} (${currentSlide + 1} â†’ ${slideIndex + 1}ë²ˆì§¸)`);
            
            // í˜„ì¬ ìŠ¬ë¼ì´ë“œ ìˆ¨ê¸°ê¸°
            const currentSlideElement = document.querySelector('.slide.active');
            if (currentSlideElement) {
                currentSlideElement.classList.remove('active');
            }
            
            // ìƒˆ ìŠ¬ë¼ì´ë“œ ë³´ì—¬ì£¼ê¸°
            const slides = document.querySelectorAll('.slide');
            const newSlide = slides[slideIndex];
            
            if (newSlide) {
                newSlide.classList.add('active');
                currentSlide = slideIndex;
                updateUI();
                
                // ìƒˆ ìŠ¬ë¼ì´ë“œì— ë³€ê²½ ì•Œë¦¼ ì „ì†¡
                setTimeout(() => {
                    sendMessageToCurrentSlide({
                        type: 'slideChanged',
                        currentSlide: currentSlide,
                        totalSlides: SLIDE_CONFIG.totalSlides
                    });
                }, 100);
            }
            
            // ì „í™˜ ì™„ë£Œ í›„ í”Œë˜ê·¸ í•´ì œ
            setTimeout(() => {
                isTransitioning = false;
            }, 600);
        }
        
        // UI ì—…ë°ì´íŠ¸
        function updateUI() {
            // ì§„í–‰ë¥  ë°”
            const progress = ((currentSlide + 1) / SLIDE_CONFIG.totalSlides) * 100;
            progressFill.style.width = progress + '%';
            
            // ì§„í–‰ë¥  í…ìŠ¤íŠ¸
            progressText.textContent = `${currentSlide + 1} / ${SLIDE_CONFIG.totalSlides}`;
            
            // ìŠ¬ë¼ì´ë“œ ì œëª©
            if (SLIDE_CONFIG.titles[currentSlide]) {
                slideTitle.textContent = SLIDE_CONFIG.titles[currentSlide];
            }
        }
        
        // ì „ì²´í™”ë©´ í† ê¸€
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().then(() => {
                    document.body.classList.add('fullscreen-mode');
                });
            } else {
                document.exitFullscreen().then(() => {
                    document.body.classList.remove('fullscreen-mode');
                });
            }
        }
        
        // í”„ë ˆì  í…Œì´ì…˜ ì¢…ë£Œ
        function exitPresentation() {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            }
            if (confirm('í”„ë ˆì  í…Œì´ì…˜ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.close();
            }
        }
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ”¥ í†µí•© ìŠ¬ë¼ì´ë“œ ë·°ì–´ ì‹œì‘!');
            
            // 1. ìŠ¬ë¼ì´ë“œ ìƒì„± ë° ë¡œë”© ì‹œì‘
            createSlides();
            updateUI();
            
            // 2. iframeê³¼ì˜ ë©”ì‹œì§€ í†µì‹  ì„¤ì •
            setupMessageListener();
            
            // 3. í„°ì¹˜ ì´ë²¤íŠ¸ ì¦‰ì‹œ í™œì„±í™” (DOM ë¡œë“œ í›„ í™•ì‹¤í•˜ê²Œ ì‹¤í–‰)
            setTimeout(function() {
                setupTouchEvents();
                console.log('ğŸš€ í„°ì¹˜ ì´ë²¤íŠ¸ ì§€ì—° ì„¤ì • ì™„ë£Œ!');
            }, 100);
            
            // ğŸš¨ Firefox í˜¸í™˜ì„±: 3ì´ˆ í›„ ê°•ì œ ë¡œë”© í•´ì œ
            setTimeout(function() {
                if (loading && loading.style.display !== 'none') {
                    console.warn('âš ï¸ ë¡œë”©ì´ 3ì´ˆ ì´ìƒ ì§€ì†ë˜ì–´ ê°•ì œë¡œ í™”ë©´ì„ í‘œì‹œí•©ë‹ˆë‹¤.');
                    console.warn(`í˜„ì¬ ë¡œë“œëœ ìŠ¬ë¼ì´ë“œ: ${slidesLoaded}/${SLIDE_CONFIG.totalSlides}`);
                    hideLoading();
                }
            }, 3000);
            
            // ğŸš¨ ì¶”ê°€ ì•ˆì „ì¥ì¹˜: 6ì´ˆ í›„ ì™„ì „ ê°•ì œ í•´ì œ
            setTimeout(function() {
                if (loading && loading.style.display !== 'none') {
                    console.error('ğŸš¨ ë¡œë”©ì´ 6ì´ˆ ì´ìƒ ì§€ì†ë˜ì–´ ì™„ì „ ê°•ì œ í•´ì œí•©ë‹ˆë‹¤.');
                    loading.style.display = 'none';
                    loading.style.opacity = '0';
                }
            }, 6000);
        });
        
        // í„°ì¹˜ ì´ë²¤íŠ¸ ì„¤ì • (ë³„ë„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬)
        function setupTouchEvents() {
            const touchOverlay = document.querySelector('.touch-overlay');
            
            if (!touchOverlay) {
                console.error('âŒ í„°ì¹˜ ì˜¤ë²„ë ˆì´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
                return;
            }
            
            console.log('ğŸ”¥ í„°ì¹˜ ì´ë²¤íŠ¸ ì„¤ì • ì‹œì‘!');
            console.log('í„°ì¹˜ ì˜¤ë²„ë ˆì´ í¬ê¸°:', touchOverlay.offsetWidth, 'x', touchOverlay.offsetHeight);
            console.log('í„°ì¹˜ ì˜¤ë²„ë ˆì´ pointer-events:', window.getComputedStyle(touchOverlay).pointerEvents);
            
            // í„°ì¹˜ ì‹œì‘
            touchOverlay.addEventListener('touchstart', function(e) {
                if (isTransitioning) return;
                
                const touch = e.touches[0];
                touchStartX = touch.clientX;
                touchStartY = touch.clientY;
                
                console.log('ğŸ”¥ í„°ì¹˜ ì‹œì‘:', touchStartX, touchStartY);
                
                // í„°ì¹˜ ì‹œì‘ ì‹œ UI í‘œì‹œ (3ì´ˆ í›„ ìˆ¨ê¹€)
                showUITemporarily();
            }, { passive: true });
            
            // í„°ì¹˜ ì´ë™ - ì¡°ê±´ë¶€ preventDefault
            touchOverlay.addEventListener('touchmove', function(e) {
                if (isTransitioning) return;
                
                const touch = e.touches[0];
                const currentX = touch.clientX;
                const currentY = touch.clientY;
                
                const deltaX = currentX - touchStartX;
                const deltaY = currentY - touchStartY;
                const absDeltaX = Math.abs(deltaX);
                const absDeltaY = Math.abs(deltaY);
                
                // ìˆ˜í‰ ì›€ì§ì„ì´ ì„¸ë¡œë³´ë‹¤ í¬ë©´ ìŠ¤ì™€ì´í”„ë¡œ íŒë‹¨í•˜ê³  ìŠ¤í¬ë¡¤ ë°©ì§€
                if (absDeltaX > absDeltaY && absDeltaX > 10) {
                    console.log('ìˆ˜í‰ ìŠ¤ì™€ì´í”„ ê°ì§€ - ìŠ¤í¬ë¡¤ ë°©ì§€');
                    e.preventDefault();
                }
                // ì„¸ë¡œ ì›€ì§ì„ì´ ë” í¬ë©´ ìŠ¤í¬ë¡¤ í—ˆìš© (preventDefault í•˜ì§€ ì•ŠìŒ)
            }, { passive: false });
            
            // í„°ì¹˜ ì¢…ë£Œ
            touchOverlay.addEventListener('touchend', function(e) {
                if (isTransitioning) return;
                
                const touch = e.changedTouches[0];
                touchEndX = touch.clientX;
                touchEndY = touch.clientY;
                
                console.log('ğŸ”¥ í„°ì¹˜ ì¢…ë£Œ:', touchEndX, touchEndY);
                
                handleTouchGesture();
            }, { passive: true });
            
            console.log('âœ… í„°ì¹˜ ì´ë²¤íŠ¸ ì„¤ì • ì™„ë£Œ!');
            
            // í„°ì¹˜ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ (ê°œë°œ ì¤‘ì—ë§Œ)
            setTimeout(function() {
                console.log('ğŸ§ª í„°ì¹˜ ì´ë²¤íŠ¸ ìì²´ í…ŒìŠ¤íŠ¸ ì™„ë£Œ');
            }, 1000);
        }
        
        // iframe ë©”ì‹œì§€ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupMessageListener() {
            window.addEventListener('message', function(event) {
                // ë³´ì•ˆìƒ origin ì²´í¬ (ê°™ì€ ë„ë©”ì¸ë§Œ í—ˆìš©)
                if (event.origin !== window.location.origin) return;
                
                const data = event.data;
                if (!data || !data.type) return;
                
                console.log('iframe ë©”ì‹œì§€ ìˆ˜ì‹ :', data);
                
                switch(data.type) {
                    case 'nextSlide':
                        nextSlide();
                        break;
                    case 'previousSlide':
                        previousSlide();
                        break;
                    case 'goToSlide':
                        if (typeof data.slideIndex === 'number') {
                            goToSlide(data.slideIndex);
                        }
                        break;
                    case 'toggleFullscreen':
                        toggleFullscreen();
                        break;
                }
            });
        }
        
        // í˜„ì¬ í™œì„± ìŠ¬ë¼ì´ë“œì— ë©”ì‹œì§€ ì „ì†¡
        function sendMessageToCurrentSlide(message) {
            const activeSlide = document.querySelector('.slide.active');
            if (activeSlide && activeSlide.contentWindow) {
                activeSlide.contentWindow.postMessage(message, window.location.origin);
            }
        }
        
        // ë§ˆìš°ìŠ¤ ì›€ì§ì„ ê°ì§€ë¡œ UI í† ê¸€ (ì „ì²´í™”ë©´ ëª¨ë“œì—ì„œë§Œ)
        let hideUITimer;
        document.addEventListener('mousemove', function() {
            // ì „ì²´í™”ë©´ ëª¨ë“œì—ì„œë§Œ ì»¤ì„œ ìˆ¨ê¹€ ë™ì‘
            if (document.fullscreenElement) {
                document.body.style.cursor = 'auto';
                clearTimeout(hideUITimer);
                
                hideUITimer = setTimeout(() => {
                    document.body.style.cursor = 'none';
                }, 3000);
            }
        });
    </script>
</body>
</html>
